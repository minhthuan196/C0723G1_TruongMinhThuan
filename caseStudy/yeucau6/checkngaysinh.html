<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
</head>
<body>
<script>
    do {
        let ngaySinh = prompt("Nhập ngày sinh: ");
        if (!checkNgaySinh(ngaySinh)) {
            alert("Ngày sinh phải đúng định dạng dd/mm/yyyy và phải hợp lệ. Vui lòng nhập lại");
        } else {
            break;
        }
    } while (true);
    function checkNgaySinh(ngaySinh) {
        // Kiểm tra xem ngày sinh có đúng định dạng dd/mm/yyyy hay không
        if (!/^\d{1,2}\/[0-1]?\d\/[0-9]{4}$/.test(ngaySinh)) {
            return false;
        }
        // Kiểm tra xem ngày sinh có hợp lệ hay không
        let [ngay, thang, nam] = ngaySinh.split("/");
        ngay = parseInt(ngay);
        thang = parseInt(thang);
        nam = parseInt(nam);
        // Kiểm tra xem tháng có hợp lệ hay không
        if (thang < 1 || thang > 12) {
            return false;
        }
        // Kiểm tra xem ngày có hợp lệ hay không
        switch (thang) {
            case 1:
            case 3:
            case 5:
            case 7:
            case 8:
            case 10:
            case 12:
                if (ngay < 1 || ngay > 31) {
                    return false;
                }
                break;
            case 4:
            case 6:
            case 9:
            case 11:
                if (ngay < 1 || ngay > 30) {
                    return false;
                }
                break;
            case 2:
                if (nam % 400 === 0 || (nam % 4 === 0 && nam % 100 !== 0)) {
                    if (ngay < 1 || ngay > 29) {
                        return false;
                    }
                } else {
                    if (ngay < 1 || ngay > 28) {
                        return false;
                    }
                }
                break;
        }
        return true;
    }
</script>
</body>
</html>