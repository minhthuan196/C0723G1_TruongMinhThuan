<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<input type="button" value="Thêm mới học viên" onclick="addStudent()">
<input type="button" value="Sửa thông tin học viên" onclick="editStudent()">
<input type="button" value="Xóa học viên" onclick="deleteStudent()">
<div id="root"></div>

<script>
    class Student {
        constructor(maHocVien, ten, lop, email, ngaySinh, module) {
            this.maHocVien = maHocVien;
            this.ten = ten;
            this.lop = lop;
            this.email = email;
            this.ngaySinh = ngaySinh;
            this.module = module;
        }
    }

    let student1 = new Student("HV-0001", "Nguyễn Văn A", "C1022G1", "nguyenvana@gmail.com", "01,01,2004", "module 1");
    let student2 = new Student("HV-0002", "Nguyễn Văn B", "C1022G1", "nguyenvanb@gmail.com", "01,02,2004", "module 1");
    let student3 = new Student("HV-0003", "Nguyễn Văn C", "C1022G1", "nguyenvanc@gmail.com", "01,03,2004", "module 1");

    let student = [student1, student2, student3];

    function displayStudent(arr) {
        let table = `<table border="1" cellspacing="0">
    <thead>
    <tr>
        <th>Mã học viên</th>
        <th>Tên</th>
        <th>Lớp</th>
        <th>Email</th>
        <th>Ngày sinh</th>
        <th>Module</th>
    </tr>
    </thead>`
        for (let i = 0; i < arr.length; i++) {
            table += `<tr>
                <td>` + arr[i].maHocVien + `</td>
                <td>` + arr[i].ten + `</td>
                <td>` + arr[i].lop + `</td>
                <td>` + arr[i].email + `</td>
                <td>` + arr[i].ngaySinh + `</td>
                <td>` + arr[i].module + `</td>
            </tr>`
        }
        table += "</table>";
        document.getElementById("root").innerHTML = table;
    }

    function addStudent() {
        do {
            let inputMaHocVien = prompt("Nhập mã học viên: ");

            let flag = true;
            for (let i = 0; i < student.length; i++) {
                if (inputMaHocVien === student[i].maHocVien) {
                    flag = false;
                }
            }
            if (flag === true) {
                let inputTen = prompt("Nhập tên học viên: ");
                let inputLop = prompt("Nhập lớp: ");
                let inputEmail = prompt("Nhập email: ");
                let inputNgaySinh = prompt("Nhập ngày sinh: ");
                let inputModule = prompt("Nhập module: ");
                let addStudent = new Student(inputMaHocVien, inputTen, inputLop, inputEmail, inputNgaySinh, inputModule);
                student.push(addStudent);
                break;
            } else {
                alert("Trùng mã học viên.Mời nhập lại");
            }
        } while (true)

        displayStudent(student);
    }

    function editStudent() {
        do {
            let inputMaHocVien = prompt("Nhập mã học viên: ");
            let flag = false;
            let index = -1;
            for (let i = 0; i < student.length; i++) {
                if (inputMaHocVien === student[i].maHocVien) {
                    index = i;
                    flag = true;
                }
            }
            if (flag === true) {
                student[index].lop = prompt("Sửa lớp: ");
                student[index].ten = prompt("Sửa tên: ");
                student[index].email = prompt("Sửa email: ");
                student[index].ngaySinh = prompt("Sửa ngày sinh: ");
                student[index].module = prompt("Sửa module: ");
                break;
            } else {
                alert("Mã học viên không tồn tại. Mời nhập lại")
            }
        } while (true)
        displayStudent(student);
    }

    function deleteStudent() {
        do {
            let inputMaHocVien = prompt("Nhập mã học viên: ");
            let flag = false;
            let index = -1;
            for (let i = 0; i < student.length; i++) {
                if (inputMaHocVien === student[i].maHocVien) {
                    index = i;
                    flag = true;
                }
            }
            if (flag === true) {
                let cancel = confirm("Bạn có muốn xóa không?")
                if (cancel === true) {
                    student.splice(index, 1);
                    break;
                }
            } else {
                alert("Mã học viên không tồn tại. Mời nhập lại");
            }
        } while (true)
        displayStudent(student);
    }

    displayStudent(student);
</script>
</body>
</html>